<% if task.errors.any? %>
  <div id="error_explanation">
    <div class="alert alert-danger">
      <%= "#{task.errors.count}種類のエラーがあります" %>
      <ul>
        <% task.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  </div>
<% end %>

<%= form_with model: task, local: true, class: "form" do |f| %>
  <div class="form-group">
    <%= f.label :title, "タイトル" %>
    <%= f.text_field :title, class: "form-control", id: "task_title" %>
  </div>
  <div class="form-group">
    <%= f.label :description, "詳細" %>
    <%= f.text_area :description, class: "form-control", id: "task_description" %>
  </div>
  <div class="form-group">
    <%= f.label :image, "画像" %>
    <%= f.file_field :image, class: "form-control", id: "task_image" %>
  </div>
  <div class="form-group">
    <%= f.label :priority, "優先度" %>
    <%= f.select :priority, [["高", 1], ["中", 2], ["低", 3]], include_blank: "選択してください", id: "task_priority" %>
  </div>
  <div class="form-group">
    <%= f.label :category, "カテゴリー" %>
    <%= f.select :category, [["プログラミング", 1], ["料理", 2], ["運動", 3], ["仕事", 4]], include_blank: "選択してください", id: "task_category" %>
  </div>
  <div class="form-group">
    <%= f.label :rate, "進捗率" %>
    <%= f.select :rate, [["0%", 0], ["10%", 1], ["20%", 2], ["30%", 3], ["40%", 4], ["50%", 5], ["60%", 6], ["70%", 7], ["80%", 8], ["90%", 9], ["100%", 10]], include_blank: "選択してください", id: "task_rate" %>
  </div>
  <% if page == "new" %>
    <%= f.label :parent_task_id, "親タスクID" %>
    <%= f.number_field :parent_task_id, min: 1, id: "parent_task_id" %>
  <% else %>
  <% end %>
  <%= f.submit "登録", class: "btn btn-success" %>
<% end %>
